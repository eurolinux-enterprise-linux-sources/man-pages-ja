.\" @(#)pg.1	1.7 (gritter) 4/25/01
.\"
.\" Japanese Version Copyright (c) 2005 Yuichi SATO
.\"         all rights reserved.
.\" Translated Sun May 15 05:48:48 JST 2005
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.TH PG 1 "2001-04-25" "Gunnar Ritter" "User Commands"
.SH 名前
pg \- テキストファイルをページ単位で閲覧する
.SH 書式
.B pg
[
.I \-number
] [
.BI \-p \ string
] [
.B \-cefnrs
] [
.I +line
] [
.I +/pattern/
] [ file . . . ]
.SH 説明
.I pg
はテキストファイルを
.SM CRT
上で一度に 1 つのスクリーンいっぱいに表示する。
各ページの終わりにプロンプトが表示される。
ユーザは改行 (newline) キーを入力して次のページを閲覧することも、
以下で説明する何れかのキーを入力することもできる。
.PP
コマンドラインでファイル名が指定されない場合、
.I pg
は標準入力から読み込む。
標準出力が端末でない場合、
.I pg
は
.IR cat (1)
のように動作するが、ファイルが複数あるときには、
ファイルの内容より先にファイル名を出力する。
.PP
パイプから入力された場合、
.I pg
は読み込んでいる間にデータをバッファファイルに格納し、
ナビゲーションを可能にする。
.SH オプション
.I pg
は以下のオプションを受け付ける:
.TP
.BI \- number
1 ページ当りの行数。
通常は
.SM CRT
の行数から 1 を引いた数である。 
.TP
.B \-c
ページが表示される前にスクリーンをクリアする。
ただし、端末の terminfo エントリでこの機能が提供されている場合。
.TP
.B \-e
ファイルの末尾において、
.I pg
は停止せず、かつ
.SM (EOF)
を表示しない。
.TP
.B \-f
.I pg
は長い行を分割しない。
.TP
.B \-n
このオプションが指定されない場合、
コマンドは改行文字で終端されなければならない。
このオプションが指定された場合、
コマンド文字が打ち込まれると
.I pg
はすぐに実行する。
.TP
.BI \-p \ string
プロンプト
.I " :"
の代わりに、
.I string
が表示される。
.I string
に
.I %d
が含まれる場合、最初に出現する
.I %d
は現在のページ番号で置き換えられる。
.TP
.B \-r
シェルエスケープを無効にする。
.TP
.B \-s
メッセージを強調
.RI ( standout )
モードで表示する。
ただし、端末の terminfo エントリでこの機能が提供されている場合。
.TP
.BI + number
指定された行番号から開始する。
.TP
.BI +/ pattern /
指定された基本正規表現 (Basic Regular Expression)
.I pattern
を含む行から開始する。
.SH 使用法
以下のコマンドをプロンプトから入力することができる。
このドキュメントで
.I i
が前に付いているコマンドは、正または負の数を引き数として受け付ける。
この引き数が
.I +
または
.I \-
で始まる場合、入力ファイルにおける現在の位置から相対位置として解釈される。
それ以外の場合は、ファイルの先頭からの相対位置として解釈される。
.TP
.IB i <newline>
次のページまたは指定されたページを表示する。
.TP
\fIi\fR\fBd\fR または \fB^D\fR
半ページ前方を表示する。
.I i
が指定された場合、常に現在の位置からの相対位置として解釈される。
.TP
.IB i l
次の行または指定された行を表示する。
.TP
.IB i f
前方に 1 ページ分スキップする。
.I i
は正の数でなければならず、
常に現在の位置からの相対位置として解釈される。
.TP
\fIi\fR\fBw\fR または \fIi\fR\fBz\fR
.I <newline>
と同じように動作するが、
.I i
が新しいページサイズになる。
.TP
.BR . " または " ^L
スクリーンを再描画する。
.TP
.B $
入力ファイルの最終行に進む。
.TP
.IB i / pattern /
基本正規表現
.I pattern
が最初または \fIi\fR 番目に見つかるまで前方に検索する。
検索は現在のページの後から始まり、ファイルの末尾で終了する。
折り返し (wrap-around) 検索は行われない。
.I i
は正でなければならない。
.TP
\fIi\fR\fB?\fR\fIpattern\fR\fB?\fR または \fIi\fR\fB^\fR\fIpattern\fR\fB^\fR
基本正規表現
.I pattern
が最初または \fIi\fR 番目に見つかるまで後方に検索する。
検索は現在のページの前から始まり、ファイルの先頭で終了する。
折り返し (wrap-around) 検索は行われない。
.I i
は正でなければならない。
.PP
検索コマンドは付加的な文字を受け付ける。
.B t
が指定された場合、pattern を含む行はスクリーンの一番上に表示される。
これがデフォルトである。
.B m
を指定するとスクリーンの真ん中の行に表示され、
.B b
を指定するとスクリーンの一番下の行に表示される。
ここで選択された表示位置は、その後の検索でも使用される。
.TP
.IB i n
次のファイルまたは
.I i
個先のファイルに移動する。
.TP
.IB i p
前のファイルまたは
.I i
個前のファイルを再び読み込む。
.TP
.BI s \ filename
指定されたファイル名
.I filename
で、現在のファイルを保存する。
.TP
.B h
コマンドの概要を表示する。
.TP
.BI ! command
シェルを使って
.I command
を実行する。
.TP
.BR q " または " Q
終了する。
.PP
.I pg
が入力ファイルを読み込んでいる間や
端末上に書き出している間に、
ユーザが中止 (interrupt) や終了のキーを押すと、
.I pg
はすぐにプロンプトを出す。
その他の場合にこれらのキーを押すと、
.I pg
を終了する。
.SH 環境変数
以下の環境変数は
.I pg
の動作に影響を与える:
.TP
.B COLUMNS
この環境変数を指定すると、システムが提供するカラム数を上書きする。
.TP
.BR LANG ,\  LC_ALL ,\  LC_COLLATE ,\  LC_CTYPE ,\  LC_MESSAGES
.IR locale (7)
を参照すること。
.TP
.B LINES
この環境変数を指定すると、システムが提供する行数を上書きする。
.TP
.B SHELL
.B !
コマンドで使用される。
.TP
.B TERM
端末タイプを決定する。
.SH 関連項目
.BR cat (1),
.BR more (1),
.BR sh (1),
.BR terminfo (5),
.BR locale (7),
.BR regex (7),
.BR term (7)
.SH 注意
.I pg
は端末のタブが 8 であると想定している。
.PP
.SM NUL
文字を含むファイルは、
.I pg
で表示できない。
