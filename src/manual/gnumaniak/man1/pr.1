.\" You may copy, distribute and modify under the terms of the LDP General
.\" Public License as specified in the LICENSE file that comes with the
.\" gnumaniak distribution
.\"
.\" The author kindly requests that no comments regarding the "better"
.\" suitability or up-to-date notices of any info documentation alternative
.\" is added without contacting him first.
.\"
.\" (C) 2002 Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
.\"
.\"	GNU pr man page
.\"	man pages are NOT obsolete!
.\"	<ragnar@ragnar-hojland.com>
.\"
.\"WORD:	truncate (lines)	(行の)(余分の)切り捨て
.\"WORD:	empty string		空文字列
.\"
.\" Japanese Version Copyright (c) 2000 NAKANO Takeo all rights reserved.
.\" Translated Sun 12 Mar 2000 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated & Modified Sat Jan 24 15:43:44 JST 2004
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\"
.TH PR 1 "7 October 2002" "GNU textutils 2.1"
.SH 名前
pr \- 印刷用にファイルのページづけ・段組みを行う
.SH 書式
.B pr
[\fB+\fIFIRST_PAGE\fR[\fB:\fILAST_PAGE\fR]]
[\fB\-\fICOLUMN\fR] [\fB\-acdfmrtvFJT\fR]
[\fB\-e\fR[\fIIN-TABCHAR\fR[\fIIN\-TABWIDTH\fR]]
[\fB\-h \fIHEADER\fR]
[\fB\-i\fR[\fIOUT\-TABCHAR\fR[\fIOUT\-TABWIDTH\fR]]
[\fB\-l \fIPAGE_LENGTH\fR]
[\fB\-n\fR[\fINUMBER\-SEPARATOR\fR[\fIDIGITS\fR]]
[\fB\-o \fIMARGIN\fR]
[\fB\-s\fR[\fISEP\-CHAR\fR]]
[\fB\-w \fIPAGE_WIDTH\fR]
[\fB\-D \fIDATEFORMAT\fR]
[\fB\-N \fILINE_NUMBER\fR]
[\fB\-S\fR[\fISEP\-STRING\fR]]
[\fB\-W \fIPAGE_WIDTH\fR]
[\fB\-\-across\fR]
[\fB\-\-columns=\fICOLUMN\fR]
[\fB\-\-date=\fIDATEFORMAT\fR]
[\fB\-\-double\-\-space\fR]
[\fB\-\-expand\-tabs\fR[\fB=\fIIN-TABCHAR\fR[\fIIN\-TABWIDTH\fR]]
[\fB\-\-form\-feed\fR]
[\fB\-\-header \fIHEADER\fR]
[\fB\-\-indent=\fIMARGIN\fR]
[\fB\-\-length \fIPAGE_LENGTH\fR]
[\fB\-\-merge\fR]
[\fB\-\-number\-lines\fR[\fB=\fINUMBER\-SEPARATOR\fR[\fIDIGITS\fR]]
[\fB\-\-no\-file\-warnings\fR]
[\fB\-\-output\-tabs\fR[\fB=\fIOUT\-TABCHAR\fR[\fIOUT\-TABWIDTH\fR]]
[\fB\-\-omit\-header\fR]
[\fB\-\-pages=\fIFIRST_PAGE\fR[\fB:\fILAST_PAGE\fR]]
[\fB\-\-page_width=\fIPAGE_WIDTH\fR]
[\fB\-\-separator\fR[\fB=\fISEP\-CHAR\fR]]
[\fB\-\-sep\-string\fR[\fB=\fISEP\-STRING\fR]]
[\fB\-\-show\-control\-chars\fR]
[\fB\-\-show\-nonprinting\fR]
[\fB\-\-width=\fIPAGE_WIDTH\fR]
.RI [ FILE... ]

.BR pr " [" \-\-help "] [" \-\-version ]
.SH 説明
.B pr
は
.I FILE
の内容にページを付けて標準出力に書き出す。
オプションで指定すれば段組みして出力することもできる。
.I FILE
が 1 つも与えられないと標準入力から読み込む。また
.I FILE
が
.RB ` \- '
だった場合には、そのファイルには標準入力が用いられる。

デフォルトでは、それぞれのページに 5 行のヘッダがつく。
ヘッダは 2 行の空行、日付・ファイル名・ページ番号の行、2 行の空行からなる。
各ページの末尾には 5 行の空行からなるフッタも出力される。

デフォルトでは
.I PAGE_LENGTH
は 66 行で、ヘッダのテキスト行は
.I PAGE_WIDTH
桁 (デフォルトは 72 桁) を幅いっぱいに用い、
`yy-mm-dd HH:MM String Page nnnn' という形式で出力される。
ここで String はまん中におかれる文字列である。

入力にフォームフィードがあると、そこで出力は改頁される。
フォームフィードが続くと空のページができる。

段は、おのおの等しい幅を持ち、デフォルトではスペースで区切られる。
.B \-J
オプションが指定されない限り、行は常に
.I PAGE_WIDTH
で切り捨てられる。1 段の出力では、
行の切り捨てはデフォルトでは行われない
(切り捨てを行うには
.B \-W
オプションを使う)。
.SH オプション
.TP
.B +\fIFIRST_PAGE\fR[\fB:\fILAST_PAGE\fR]\fB
.TP
.B \-\-pages=\fIFIRST_PAGE\fR[\fB:\fILAST_PAGE\fR] 
.IR FIRST_PAGE " から " LAST_PAGE
までを出力する。
.I LAST_PAGE
を省略するとファイル末尾までを出力する。
スキップするページ数を評価するとき、入力ファイルにある
フォームフィードは改ページとみなされる。
.BI + FIRST_PAGE
があってもなくても、出力のページ番号と行番号は同じで、
入力の最初のページからカウントが開始される (出力ページの最初からではない)。
しかしページ番号の振り方は
.B \-N
によって変更することもできる。
.TP
.B \-\fICOLUMN\fB
.TP
.B \-\-columns=\fICOLUMN
.I FILE
それぞれが
.I COLUMN
段の出力になる (デフォルトは 1)。
段の幅は
.I PAGE_WIDTH
から自動的に計算され、
それぞれのページにおける各段の行数は調整される。
段に入りきらない行は切り捨てられる。
.BR \-\-columns " は " \-m
と同時には指定できない。
.TP
.B \-a, \-\-across
それぞれの
.I FILE
で、段組みの行の進行方向を縦でなく横にする。
.I COLUMN
は 2 以上でなければならない。
段に収まらない行の余計な分は切り捨てられる。
.TP
.B \-c, \-\-show\-control\-chars
.TP
.B \-d, \-\-double\-space
行間に空行を挿入する (ダブルスペース表示)。
.TP
.B \-e\fR[\fIIN-TABCHAR\fR[\fIIN\-TABWIDTH\fR]]
.TP
.B \-\-expand\-tabs\fR[\fB=\fIIN-TABCHAR\fR[\fIIN\-TABWIDTH\fR]],
入力のタブをスペースに展開する。
.I IN\-TABCHAR
は入力のタブ文字を指定する (省略可: デフォルトは <TAB>)。
.I IN\-TABWIDTH
はタブの幅を指定する (省略可: デフォルトは 8)。
.TP
.B \-f, \-F, \-\-form\-feed
改ページに複数の改行ではなくフォームフィード (^L) を使用し、
ヘッダは 3 行形式にする (最初の空行 2 つとフッタは省略される)。
1 ページあたり 66 行というデフォルトの設定は変更されないが、
1 ページあたりのテキスト行はデフォルトの 56 行から
63 行に変更される。
.TP
.B \-h \fIHEADER\fB, \-\-header=\fIHEADER
ヘッダに表示される
.I FILE
の名前を文字列
.I HEADER
に置き換える。
`yy-mm-dd HH:MM \fIHEADER\fR Page nnnn' が
.I PAGE_WIDTH
より長くなると、左側で行の切り捨て (`*' マークされる) が
行われる。`\fB\-h ""\fR' とするとヘッダ行は空になる。
.TP
.B \-i\fR[\fIOUT\-TABCHAR\fR[\fIOUT\-TABWIDTH\fR]]
.TP
.B \-\-output\-tabs\fR[\fB=\fIOUT\-TABCHAR\fR[\fIOUT\-TABWIDTH\fR]]
出力のスペースをタブに圧縮する。
.I OUT\-TABCHAR
は出力のタブ文字を指定する (省略可: デフォルトは <TAB>)。
.I OUT\-TABWIDTH
はタブの幅を指定する (省略可: デフォルトは 8)。
.TP
.B \-J, \-\-join\-lines
行の内容すべてをマージする。段組みオプション
\fB\-\fICOLUMN\fR,  `\fB\-a \-\fICOLUMN\fR', \fB\-m\fR
とともに指定すると、
.BR \-W " や " \-w
の行切り捨てを無効にする。段の揃えは行わない。
段の区切り文字は <TAB> に変更される。
ただし \fB\-S\fR による上書きは可能である。
.TP
.B \-l \fIPAGE_LENGTH\fB, \-\-length=\fIPAGE_LENGTH
(ヘッダとフッタを含めた) ページ長を
.I PAGE_LENGTH
行に設定する。デフォルトは 66 行。
.I PAGE_LENGTH
が 10 行以下の場合 (および
.B \-F
も指定された場合は 3 行以下の場合) は、
\fIpage-length\fP が 10 以下の場合には、
.B \-T
オプションが指定されたかのように、
ヘッダとフッタが省略され、入力ファイルのフォームフィードは無視される。
.TP
.B \-m, \-\-merge
全てのファイルを並べて出力する。1 ファイルが 1 段となる。
行の長さが段に収まらない場合、はみ出た分は切り捨てられる。
.I FILE
に空のページが (フォームフィードによって) 存在すると、
空の段が出力される。ただし
.I SEPARATOR
によるマークはされる。(しかし全ての段が空となるページでは、
区切り文字も行番号も表示されない。)
デフォルトのヘッダは `yy-mm-dd HH:MM <blanks> Page nnnn' となるが、
\fB\-h \fIHEADER\fR を同時に指定すれば、まん中の部分を記述するようにできる。
\fB\-S\fR[\fISEP\-CHAR\fR] も同時に指定できる。
.TP
.B \-n\fR[\fINUMBER\-SEPARATOR\fR[\fIDIGITS\fR]]
.TP
.B \-\-number\-lines\fR[\fB=\fINUMBER\-SEPARATOR\fR[\fIDIGITS\fR]]
各段の前に行番号をふる。複数ファイルの並列表示 (\fB\-m\fR)
の場合は、行の先頭だけに番号をふる。
行番号の開始は、デフォルトでは入力ファイルの最初の行である
(印刷された最初の行ではない。
\fB\-N\fR と \fB\-\fIPAGES\fR を見よ)。

.I NUMBER-SEPARATOR
は行番号とテキストの間に入る文字を指定する。
デフォルトはスペース。桁数が変わらない場合は <TAB> に圧縮される。
.I DIGITS
は行番号の桁数を指定する (省略可: デフォルトは 5)。
.TP
.B \-o \fIMARGIN\fB, \-\-indent=\fIMARGIN
各行を
.I MARGINP
文字分のスペースでインデントする (デフォルトは 0)。
つまり左マージンを設定する。
総ページ幅は
.IR MARGIN " + " PAGE_WIDTH
になる。行番号つきの段組み出力では溢れることがあるかもしれない。
.TP
.B \-r, \-\-no\-file\-warnings
コマンドラインで与えられた
.I FILE
がオープンできない場合でも、警告メッセージを表示しない。
(しかしファイルのオープンに失敗した場合に
0 以外の終了ステータスを返す動作は変らない。)
.TP
.B \-s\fR[\fISEP\-CHAR\fR]\fB, \-\-separator\fR[\fB=\fISEP\-CHAR\fR]
段組のセパレータを
.I SEP\-CHAR
文字にする。
.I SEP\-CHAR
のデフォルトは、
.BR \-s " と同時に " \-w
を指定した場合は空文字列、それ以外の場合は <TAB>。
.B \-w
と組み合わせた場合には、段の行切り捨てが行われないという副作用がある。
.TP
.B \-S\fR[\fISEP\-STRING\fR]\fB, \-\-sep\-string\fR[\fB=\fISEP\-STRING\fR]
段組みのセパレータを
.I SEP\-STRING
にする (デフォルトは空文字列)。
短縮形式 \fB\-S\fR は推奨されない。
.TP
.B \-t, \-\-omit\-header
各ページのヘッダ (とフッタ) を印字しない。
また改ページ処理も行わない (ページ末に空行やフォームフィードを入れない)。
ページ構造は生成されないが、入力ファイルのフォームフィードは残る
(つまりあらかじめ定義されたページ区切りは変更されない)。
.BR \-t " や " \-T
は他のオプションと組み合わせると便利である。
例えば `\fB\-t \-e4\fR' は入力の <TAB> を 4 つのスペースに変換する以外は
何も変更しない。\fB\-t\fR は \fB\-h\fR を無効にする。
.TP
.B \-v, \-\-show\-nonprinting
印字できない文字を、バックスラッシュ表記の 8 進数で出力する。
.TP
.B \-w \fIPAGE_WIDTH\fB, \-\-width=\fIPAGE_WIDTH
複数段の出力に限り、ページは場を
.I PAGE_WIDTH
文字に設定し (デフォルトは 72)、行の余分を切り捨てる。
.TP
.B \-D \fIDATEFORMAT\fB, \-\-date=\fIDATEFORMAT
\fIDATEFORMAT\fR をヘッダの日付書式として使用する。
または日付を指定するために使用する。
詳細は \fBdate\fR(1) を見よ。
.TP
.B \-N \fILINE_NUMBER\fB, \-\-first\-line\-number=\fILINE_NUMBER
印刷された最初のページの最初の行を
.I LINE_NUMBER
行とし、そこから行カウントを開始する。
.TP
.B \-S \fR[\fISEP\-STRING\fR]\fB, \-\-sep\-string\fR[\fB=\fISEP\-STRING\fR]
出力の段組みの区切りを文字列
.I SEP\-STRING
にする。
.TP
.B \-T
ヘッダ (とフッタ) を出力しない。
さらに入力にあるフォームフィードをすべて無効にする。
.TP
.B \-W \fIPAGE_WIDTH\fB, \-\-page_width=\fIPAGE_WIDTH
段組みが 1 段の場合でも複数の場合でも、ページの幅を
.I PAGE_WIDTH
文字にして (デフォルトは 72)、行の余分を切り捨てる。
.B \-W
の指定も段組みのオプションも指定されなければ、
行の余分の切り捨ては行われない
(ヘッダは例外で、常に切り捨てが行われる)。
.TP
.B \-\-help
標準出力に使用方法のメッセージを出力して正常終了する。
.TP
.B \-\-version
標準出力にバージョン情報を出力して正常終了する。
.SH POSIX 向けの注意
大文字 1 文字のオプションは小文字のオプションより優先される。
しかし後の方に再定義するほうが \fBPOSIX\fR には準拠している。
また、1 文字のオプションへの引数は、
\fBPOSIX\fR の規定ではオプションの文字と分離できない
(例えば `\fB\-s\fR a' は `\fB\-s\fRa' と書かなければならない)。
.SH 注意
プログラムのバグについては bug-textutils@gnu.org に報告してください。
.br
man ページは Ragnar Hojland Espinosa
<ragnar@ragnar-hojland.com> が作成しました。
