.\" You may copy, distribute and modify under the terms of the LDP General
.\" Public License as specified in the LICENSE file that comes with the
.\" gnumaniak distribution
.\"
.\" The author kindly requests that no comments regarding the "better"
.\" suitability or up-to-date notices of any info documentation alternative
.\" is added without contacting him first.
.\"
.\" (C) 2002 Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
.\"
.\"	GNU fmt man page
.\"	man pages are NOT obsolete!
.\"	<ragnar@ragnar-hojland.com>
.\"
.\" Japanese Version Copyright (c) 2000 NAKANO Takeo all rights reserved.
.\" Translated Sun 12 Mar 2000 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\"
.TH FMT 1 "7 October 2002" "GNU textutils 2.1"
.SH 名前
fmt \- テキストを段落に整形する
.SH 書式
.B fmt
.RB [ \-ctsu "] [" -\fIWIDTH\fR "] [" "\-p \fIREFIX\fR" "] [" "\-w \fIWIDTH\fR" ]
.RB [ \-\-crown\-margin ]
.RB [ \-\-split\-only ]
.RB [ \-\-tagged\-paragraph ]
.RB [ \-\-uniform\-spacing ]
.RB [ "\-\-prefix=\fIPREFIX\fR" ] 
.RB [ "\-\-width=\fIWIDTH\fR" ]
.RI [ FILE... ]

.BR fmt " [" \-\-help "] [" \-\-version ]
.SH 説明
.B fmt
は行を結合したり隙間を埋めたりして、
出力各行を与えられた文字数に揃える (正確には越えないようにする)。
デフォルトは 75 桁。
.B fmt
は
.I FILE
引数 (ファイルが一つも指定されなかった場合は標準入力) から読み、
標準出力に書く。

デフォルトでは、空行・単語間のスペースの数・インデントは出力に保存される。
インデントの異なる連続行は結合しない。タブは入力で一度スペースに変換され、
出力で挿入される。

.B fmt
は文の最後で改行しようとする。
また文の最初の単語の直後や、文の最後の単語の直前での改行は避けようとする。
「文の区切り」は、段落の最後か、`.?!' のどれかで終わる単語に
2 つのスペースまたは続いたものとして定義される。
ただし括弧や引用符の内部では文区切りとはみなされない。
.BR TeX (1)
と同じく、
.B fmt
も「段落」全体を読み込んでから改行位置を決める。
このアルゴリズムは、
"Breaking Paragraphs into Lines"
(Donald E. Knuth and Michael F. Plass,
Software--Practice and Experience', 11 (1981) 1119-1184)
で提案されたものをちょっと変更したものである。
.SH オプション
.TP
.B \-c, \-\-crown\-margin
クラウンマージンモード (crown margin mode)。
段落の最初の二行のインデントを保存し、
引き続く行の左マージンをそれぞれ第二行のものに揃える。
.TP
.B \-p \fIPREFIX\fB, \-\-prefix=\fIPREFIX
.I PREFIX
で始まる行 (スペースが前置されていても良い) だけを再配置する。
.I PREFIX
(と前置されるスペース) は整形前にいったん削除され、
整形された出力行に再び挿入される。
利用法としては、例えばある種のプログラムのコメントだけを整形して、
コード部分は変更したくない場合などが考えられる。
.TP
.B \-s, \-\-split\-only
行分割だけを行う。短い行を結合して長い行を生成する作業を行わない。
プログラムコードなどの「整形済み」テキストが
不正に結合されるのを避けることができる。
.TP
.B \-t, \-\-tagged\-margin
タグ付き段落モード (tagged paragraph mode)。
クラウンモードと似ているが、
段落の最初の行のインデントは第二行のものとは異なっていなければならない。
同じである場合は、最初の行は一行だけからなる段落とみなされる。
.TP	  
.B \-u, \-\-uniform\-spacing
一様なスペース配置 (uniform spacing)。
単語間のスペースをスペース文字ひとつに減らす。
ただし文の間には二つのスペース文字が用いられる。
.TP
.B \-\fIWIDTH\fB, \-w \fIWIDTH\fB, \-\-width=\fIWIDTH
出力行を
.I WIDTH
桁まで埋めようとする (デフォルトは 75)。
.B fmt
は各行の長さを揃えるための空間を確保する目的から、
およそ 7% ほど行を短くする傾向にある。
.TP
.B "\-\-help"
標準出力に使用方法のメッセージを出力して正常終了する。
.TP
.B "\-\-version"
標準出力にバージョン情報を出力して正常終了する。
.SH 注意
プログラムのバグについては bug-textutils@gnu.org に報告してください。
.br
man ページは Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com> が作成しました。

