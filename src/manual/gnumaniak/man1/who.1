.\" You may copy, distribute and modify under the terms of the LDP General
.\" Public License as specified in the LICENSE file that comes with the
.\" gnumaniak distribution
.\"
.\" The author kindly requests that no comments regarding the "better"
.\" suitability or up-to-date notices of any info documentation alternative
.\" is added without contacting him first.
.\"
.\" (C) 1999-2002 Ragnar Hojland Espinosa <ragnar@ragnar-hojland.com>
.\"
.\"     GNU who man page
.\"     man pages are NOT obsolete!
.\"     <ragnar@ragnar-hojland.com>
.\"
.\" Japanese Version Copyright (c) 2000 NAKANO Takeo all rights reserved.
.\" Translated Sun 12 Mar 2000 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated & Modified Sun Jan 25 00:32:18 JST 2004
.\"         by Yuichi SATO <ysato444@yahoo.co.jp>
.\" 
.TH who 1 "18 June 2002" "GNU Shell Utilities 2.1"
.SH 名前
who \- だれがいまログオンしているか表示する
.SH 書式
.B who
.B [\-abdilmpqrstuwHT] [\-\-all] [\-\-boot] [\-\-count] [\-\-dead]
.B [\-\-heading] [\-\-idle] [\-\-login] [\-\-lookup]
.B [\-\-message] [\-\-mesg] [\-\-process] [\-\-runlevel] [\-\-short]
.B [\-\-time] [\-\-users] [\-\-writable] [am i]
.BI [ file ]
.sp
.B who [\-\-help] [\-\-version]
.SH 名前
オプション以外の引数を与えずに実行すると、
.B who
は現在ログオンしているユーザそれぞれに対して以下の情報を表示する。
.\"nakano add here the LP instead of blank link in .nf - .fi
.LP
.RS
.nf
ログイン名
使っている端末
ログインした時刻
リモートのホスト名または X のディスプレイの名前
.fi
.RE
.PP
オプション以外の引数を 1 つ与えた場合、
.B who
はユーザのログイン情報を記録したファイルとして、
.B /var/run/utmp
の代わりに引数で与えられた名前のファイルを参照する。
以前にログインしていたユーザについて知りたい場合には、
.B /var/run/wtmp
を
.B who
の引数として与えることが良く行われる。
.PP
オプション以外の引数を 2 つ与えた場合、
.B who
は
.B who
を起動したユーザ (標準入力から決定される) についての情報だけを表示する。
このとき名前の前にホスト名が置かれる。
普通は 2 つの引数には、`am i' が使われる。
.SH オプション
.TP
.B "\-a, \-\-all"
`who -b -d --login -p -r -t -u' と同じ。
.TP
.B "\-b, \-\-boot"
最後にシステムがブートした時刻のみを表示する。
.TP
.B "\-d, \-\-dead"
死んだプロセスを表示する。
そのプロセスの終了コードなどの EXIT フィールドを追加で表示する。
.TP
.B "\-i, \-u, \-\-idle"
ログインした時刻のあとに、
ユーザが最後に端末操作を行なってからの時間・分 (idle-time) が表示される。
`.' はユーザが 1 分以内に端末操作を行なったことを示す。
`old' はユーザが 24 時間以上何の端末操作も行なっていないことを示す。
.TP
.B \-\-login
ログインしているプロセスのみを表示する。
.TP
.B \-l, \-\-lookup
それぞれのユーザーのホスト名の解決に DNS を使う。
.TP
.B \-m
`who am i' と入力するのと同じ。
.TP
.B "\-p, \-\-process"
init によって生成されたプロセスのみを表示する。
.TP
.B "\-q, \-\-count"
ログインしているユーザの名前と人数のみを表示する。
他のオプションは無効になる。
.TP
.B "\-r, \-\-runlevel"
現在のランレベルのみを表示する。
.TP
.B "\-s, \-\-short"
NAME, LINE, TIME カラムのみを表示する (これがデフォルトである)。
.TP
.B "\-t, \-\-time"
システムクロックが最後に変更された時刻を表示する。
.TP
.B "\-u, \-\-users"
現在ログインしているユーザと IDLE フィールドを表示する。
.TP
.B "\-w, \-T, \-\-mesg, \-\-message, \-\-writable"
ログイン名の後に、
そのユーザのメッセージ状態を表す文字を付け加える:
.RS
.IP +
.BR write (1)
によるメッセージを受付ける。
.IP \-
.BR write (1)
によるメッセージを受付けない。
.IP ?
端末のデバイスが見付からない。
.RE
.TP
.B "\-H, \-\-heading"
表示の先頭に項目名を記述した行を挿入する。
.TP
.B "\-\-help"
標準出力に使用方法のメッセージを出力して正常終了する。
.TP
.B "\-\-version"
標準出力にバージョン情報を出力して正常終了する。
.SH 注意
プログラムのバグについては bug-sh-utils@gnu.org に報告してください。
ページの更新は Ragnar Hojland Espinosa
<ragnar@ragnar-hojland.com> が行っています。
