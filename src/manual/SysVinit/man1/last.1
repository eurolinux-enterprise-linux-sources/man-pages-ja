.\" This page is originally in the SysVinit package.
.\"
.\" Translated Fri 14 Feb 1997 by Kazuyoshi Furutaka <furutaka@Flux.tokai.jaeri.go.jp>
.\" Updated Wed  3 May 2000 by Kentaro Shirakata <argrath@ub32.org>
.\"
.\"{{{}}}
.\"{{{  Title
.TH LAST,LASTB 1 "Jul 29, 1999" "" "Linux System Administrator's Manual"
.\"}}}
.\"{{{  名前
.SH 名前
last, lastb \- 最近ログインしたユーザのリストを表示する
.\"}}}
.\"{{{  書式
.SH 書式
.B last
.RB [ \-R ]
.RB [ \-\fInum\fP ]
.RB "[ \-\fBn\fP \fInum\fP ]"
.RB [ \-adiox ]
.RB "[ \-\fBf\fP \fIfile\fP ]"
.RI [ name... ]
.RI [ tty... ]
.br
.B lastb
.RB [ \-R ]
.RB [ \-\fInum\fP ]
.RB "[ \-\fBn\fP \fInum\fP ]"
.RB "[ \-\fBf\fP \fIfile\fP ]"
.RB [ \-adiox ]
.RI [ name... ]
.RI [ tty... ]
.\"}}}
.\"{{{  説明
.SH 説明
.B last
は\fB/var/log/wtmp\fPファイル(もしくは\fB\-f\fPオプションを用いて
指定したファイル)を時間の流れとは逆方向に検索して行き、
そのファイルが作られて以来ログイン(及びログアウト)した全ての
ユーザのリストを表示する。
ユーザ名及びttyの名前を引数として与える事もできる。
その場合は引数と一致したエントリーのみを表示する。
ttyの名前は簡略化する事が出来る。
例えば、\fBlast 0\fPは\fBlast tty0\fPとするのと同じである。
.PP
\fBlast\fPは
\s-2SIGINT\s0シグナル(インタラプト・キー(通常はcontrol-C)を押すと発生する)
もしくは
\s-2SIGQUIT\s0シグナル(quitキー(通常はcontrol-\e)を押すと発生する) 
を受け取ると、
いつの分まで検索したかを表示し、
\s-2SIGINT\s0シグナルの場合はプログラムを終了する。
.PP
システムをリブートすると、
疑似的なユーザ\fBreboot\fPがログインしたものとして
\fB/var/log/wtmp\fPファイルに記録が残される。
従って、\fBlast reboot\fPとすると、ログファイル生成以後全ての
リブートのログが表示される。
.PP
\fBlastb\fP は、デフォルトでは不正なログインを記録する
\fB/var/log/btmp\fPファイルのログを表示するということ以外は 
\fBlast\fPと同じである。
.\"}}}
.\"{{{  オプション
.SH オプション
.IP \fB\-\fP\fInum\fP
\fBlast\fPに何行表示させるか指定する。
.IP "\fB\-n\fP \fInum\fP"
同上。
.IP \fB\-R\fP
\fBhostname\fPフィールドを表示しない。
.IP \fB\-a\fP
ホスト名を最後の欄に表示する。
次のオプションと組み合わせて用いると便利。
.IP \fB\-d\fP
ローカルからのログインでない場合は、Linuxはリモートホストの名前だけでなく、
その IP アドレスも記録している。
このオプションを用いた場合は、その IP アドレスをホスト名に変換し直して表示する。
.IP \fB\-i\fP
このオプションは\fB-d\fPと同様にリモートホストの IP アドレスを表示するが、
アドレスを 数字と `.' を使った形式で表示する。
.IP \fB\-o\fP
(linux-libc5 アプリケーションが作成した)古い形の wtmp ファイルを読み込む。
.IP \fB\-x\fP
システムのシャットダウン及びランレベル変更の記録も表示する。
.\"}}}
.SH 注意
\fIwtmp\fP及び\fIbtmp\fPファイルが存在しない可能性もある。
システムは
これらのファイルが存在する場合のみ情報を書き留める。
上記のファイルが存在するか否かは各サイトの設定の問題である。
これらのファイルを使いたい場合は、\fBtouch\fP(1) コマンドを使って簡単に
作る事が出来る(例えば、\fItouch /var/log/wtmp\fP) 。
.SH ファイル
/var/log/wtmp
.br
/var/log/btmp
.\"}}}
.\"{{{  著者
.SH 著者
Miquel van Smoorenburg, miquels@cistron.nl
.\"}}}
.\"{{{  関連項目
.SH 関連項目
.BR shutdown (8),
.BR login (1),
.BR init (8)
.\"}}}

