.\" Copyright (c) 1991, 1993
.\"	The Regents of the University of California.  All rights reserved.
.\"
.\" Redistribution and use in source and binary forms, with or without
.\" modification, are permitted provided that the following conditions
.\" are met:
.\" 1. Redistributions of source code must retain the above copyright
.\"    notice, this list of conditions and the following disclaimer.
.\" 2. Redistributions in binary form must reproduce the above copyright
.\"    notice, this list of conditions and the following disclaimer in the
.\"    documentation and/or other materials provided with the distribution.
.\" 3. All advertising materials mentioning features or use of this software
.\"    must display the following acknowledgement:
.\"	This product includes software developed by the University of
.\"	California, Berkeley and its contributors.
.\" 4. Neither the name of the University nor the names of its contributors
.\"    may be used to endorse or promote products derived from this software
.\"    without specific prior written permission.
.\"
.\" THIS SOFTWARE IS PROVIDED BY THE REGENTS AND CONTRIBUTORS ``AS IS'' AND
.\" ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
.\" IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
.\" ARE DISCLAIMED.  IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE
.\" FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
.\" DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
.\" OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
.\" HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
.\" LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
.\" OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
.\" SUCH DAMAGE.
.\"
.\"	@(#)mdoc.7	8.2 (Berkeley) 12/30/93
.\"	$Id: mdoc.7,v 1.6 2000/09/07 07:21:50 hanataka Exp $
.\"
.\" The December 30, 1993 version
.\" Modified by David A. Wheeler (dwheeler@ida.org) on 1999-07-11
.\" to conform to Linux.
.\"
.\" Japanese Version Copyright (c) 2000 NAKANO Takeo all rights reserved.
.\" Translated Fri 14 Jan 2000 by NAKANO Takeo <nakano@apm.seikei.ac.jp>
.\" Updated 2008-07-31 by Kentaro Shirakata <argrath@ub32.org>
.\"
.\"WORD:	manual domain macro		マニュアルドメインマクロ
.\"WORD:	general text domain macro	一般テキストドメインマクロ
.\"WORD:	callable macro			呼び出し可能マクロ
.\"
.Dd July 11, 1999
.Dt MDOC 7
.Os Linux
.Sh 名前
.Nm mdoc
.Nd
.Nm \-mdoc
マクロパッケージのクイックリファレンスガイド
.Sh 書式
.Nm groff
.Fl m Ns Ar doc
.Ar files ...
.Sh 説明
.Nm \-mdoc
パッケージは
.Bx
man ページに用いられる内容ベース・ドメインベースのマクロである。
以下ではクイックリファレンスとしてマクロの名前とその意味をリストする。
このパッケージの利用法に関する詳細な説明は、
チュートリアル用の見本である
.Xr mdoc.samples 7
を参照すること。
.Pp
これは Linux の文書で通常用いられているマクロパッケージとは異なる。
しかし広く用いられているいくつかのプログラムの文書で、
このマクロが利用されている。
.Xr man 7
を見よ。
.Pp
マクロは 2 つのグループに分けて説明する。
最初のグループは構造や物理的なページレイアウトに関するマクロである。
2 つめはマニュアルドメインマクロ (manual domain macro)
や一般テキストドメインマクロ (general text domain macro)
で、
.Nm \-mdoc
パッケージを他の
.Xr troff
フォーマットパッケージと差別化しているものである。
.Sh ページ構造のドメイン
.Ss タイトルマクロ
正しいマニュアルページを生成するためには、これらの 3 つのマクロを
この順番で書く必要がある。
.Bl -tag -width "xxxx.Os OPERATINGxSYSTEM [version/release]" -compact
.It Li "\&.Dd  " Ar "Month day, year"
文書の日付。
.It Li "\&.Dt  " Ar "DOCUMENT_TITLE [section] [volume]"
タイトルを大文字で。
.It Li "\&.Os  " Ar "OPERATING_SYSTEM [version/release]"
オペレーティングシステム
.Pq Tn BSD .
.El
.Ss ページレイアウトマクロ
セクションヘッダ、段落の終わり、リスト、表示など。
.Bl -tag -width flag -compact
.It Li \&.Sh
セクションのヘッダ。
正しいヘッダは、現れる順に:
.Bl -tag -width "RETURN VALUE" -compact
.It Ar NAME
名前のセクション。
.Ql \&.Nm
,
.Ql \&.Fn
,
.Ql \&.Nd
などのマクロを含む。
.It Ar SYNOPSIS
利用法。
.It Ar DESCRIPTION
一般的な説明。オプションやパラメータの説明も含む。
.It Ar RETURN VALUE
セクション 2 や 3 の関数コール。
.It Ar ENVIRONMENT
環境変数を説明する。
.It Ar FILES
内容に関係するファイル。
.It Ar EXAMPLES
例やおすすめ。
.It Ar DIAGNOSTICS
通常セクション 4 のデバイスインターフェースの診断用。
.It Ar ERRORS
セクション 2 や 3 のエラーやシグナル処理。
.It Ar SEE ALSO
相互参照や引用。
.It Ar CONFORMING TO
可能なら標準への準拠。
.It Ar HISTORY
標準が適用されていない場合は、
歴史的な内容を与えるべきである。
.It Ar BUGS
瑕疵や警告。
.It Ar other
筆者の判断でヘッダをあつらえてもよい。
.El
.It Li \&.Ss
サブセクションのヘッダ。
.It Li \&.Pp
段落の区切り。
垂直スペース (一行)。
.It Li \&.D1
(D-one) Display-one
インデントしてテキストを一行表示。
.It Li \&.Dl
(D-ell) Displey-one literal。
インデントしてリテラルなテキストを一行表示。
.It Li \&.Bd
表示ブロックの開始。
表示オプション:
.Bl -tag -width "xoffset string " -compact
.It Fl ragged
揃えない (両端は不揃い)。
.It Fl filled
揃える。
.It Fl literal
リテラルなテキストまたはコード。
.It Fl file Ar name
指定された
.Ar file
を読んで表示する。
.It Fl offset Ar string
オフセット表示。
受付ける
.Ar string
の値は:
.Bl -tag -width indent-two -compact
.It Ar left
ブロックを左に揃える (デフォルト)。
.It Ar center
大まかなセンターマージン。
.It Ar indent
定数幅の空白 6 つ (タブ 1 つ)。
.It Ar indent-two
タブ 2 つ。
.It Ar right
揃えブロックを右から 2 インチの位置に残す。
.\"NAKANO ???
.It Ar xx Ns Cm n
.Ar xx
は
.No \&4 Ns Cm n
から
.No \&9\&9 Ns Cm n
までの数字。
.It Ar Aa
.Ar Aa
は呼びだし可能なマクロの名前。
.It Ar string
.Ar string
の幅が用いられる。
.El
.El
.It Li \&.Ed
表示終了 (\&.Bd にマッチする)。
.It Li \&.Bl
リスト開始。
リストまたはコラムを生成する。オプションは以下:
.Bl -tag -width flag -compact
.It Ar リスト形式
.Bl -column xbullet -compact
.It Fl bullet Ta "中黒のアイテムリスト"
.It Fl item Ta "ラベルなしリスト"
.It Fl enum Ta "数値付きリスト"
.It Fl tag Ta "タグラベル付きリスト"
.It Fl diag Ta "診断リスト (diagnostic list)"
.It Fl hang Ta "ぶらさがりラベルリスト"
.It Fl ohang Ta "飛び出しラベルリスト"
.It Fl inset Ta "ラベル付きリストの挿入・継続"
.El
.It リストパラメータ
.Bl -tag -width "xcompact " -compact
.It Fl offset
(全てのリスト) 上記の
.Ql \&.Bd
ディスプレイ開始 (begin-display) を見よ。
.It Fl width
.Pf ( Fl tag
および
.Fl hang
リストのみ)
.Ql \&.Bd .
を見よ。
.It Fl compact
(全てのリスト)
空行を抑制する。
.El
.El
.It Li \&.El
リストの終わり。
.It Li \&.It
リスト項目。
.El
.Sh マニュアルドメインマクロと一般テキストドメインマクロ
マニュアルドメインマクロと一般テキストドメインマクロとが
他と異なっているのは、
呼びだし可能マクロ (callable macro) の内部では、
そのほとんどがパーズされるという点である。
例えば以下のように変換される:
.Bl -tag -width ".Op Fl s Ar filex" -offset indent
.It Li "\&.Op Fl s Ar file"
→
.Op Fl s Ar file
.El
.Pp
この例では、囲みマクロ
.Ql \&.Op
に与えられたオプションがパーズされ、
中身の呼びだし可能なマクロである
.Ql \&Fl
が呼ばれ、引数である
.Ql s
に対して作用する。そして次に中身の呼びだし可能なマクロ
.Ql \&Ar
が呼ばれ、引数である
.Ql file
に作用する。呼びだし可能であるがパースされないマクロや、
その逆のマクロも存在する。このようなマクロは以下の
.Em parsed
カラムや
.Em callable
カラムで示す。
.Pp
特に記述がなければ、マニュアルドメインマクロは共通の書式をとる:
.Pp
.Dl \&.Va argument [\ .\ ,\ ;\ :\ (\ )\ [\ ]\ argument \...\ ]
.Pp
.Sy 注意 :
句読文字 (punctuation character) の開き・閉じは、
それらが一度に単一の文字で現れた場合のみそのように解釈される。
文字列
.Ql "),"
は、句読区切りとはみなされず、その前に空白文字があれば
その文字とともに、また呼び出したマクロが用いるフォントで出力される。
引数リスト
.Ql "] ) ,"
は 3 つの連続した閉じ句読文字と解釈され、
それぞれの前にある空白文字は、各文字や (もしあれば) その前にある
引数との間には出力されない。
特殊な意味を持つ句読文字は、文字列
.Ql \e&
によってエスケープできる。
例えば以下の左の文字列は右のように変換される。
.Bl -tag -width "&.Ar file1\ , file2\ , file3\ )\ ." -offset indent
.It Li "\&.Ar file1\ , file2\ , file3\ )\ ."
→
.Ar file1 , file2 , file3 ) .
.El
.ne 1i
.Ss マニュアルドメインマクロ
.Bl -column "Name" "Parsed" Callable" -compact
.It Em 名前	Parsed	Callable	説明
.It Li \&Ad Ta Yes Ta Yes Ta "アドレス (このマクロは使わない方が良い)"
.It Li \&An Ta Yes Ta Yes Ta "著者の名前"
.It Li \&Ar Ta Yes Ta Yes Ta "コマンドライン引数"
.It Li \&Cd Ta \&No Ta \&No Ta "設定の宣言 (セクション 4 のみ)"
.It Li \&Cm Ta Yes Ta Yes Ta "コマンドライン引数の修正子"
.It Li \&Dv Ta Yes Ta Yes Ta "定義済み変数 (ソースコード)"
.It Li \&Er Ta Yes Ta Yes Ta "エラー番号 (ソースコード)"
.It Li \&Ev Ta Yes Ta Yes Ta "環境変数"
.It Li \&Fa Ta Yes Ta Yes Ta "関数の引き数"
.It Li \&Fd Ta Yes Ta Yes Ta "関数の宣言"
.It Li \&Fn Ta Yes Ta Yes Ta "関数呼びだし (.Fo と .Fc も)"
.It Li \&Ic Ta Yes Ta Yes Ta "インタラクティブなコマンド"
.It Li \&Li Ta Yes Ta Yes Ta "リテラルなテキスト"
.It Li \&Nm Ta Yes Ta Yes Ta "コマンドの名前"
.It Li \&Op Ta Yes Ta Yes Ta "オプション (.Oo と .Oc も)"
.It Li \&Ot Ta Yes Ta Yes Ta "古い形式の関数型 (Fortran のみ)."
.It Li \&Pa Ta Yes Ta Yes Ta "パス名またはファイル名"
.It Li \&St Ta Yes Ta Yes Ta "標準 (\-p1003.2, \-p1003.1, \-ansiC のどれか)"
.It Li \&Va Ta Yes Ta Yes Ta "変数の名前"
.It Li \&Vt Ta Yes Ta Yes Ta "変数の型 (Fortran のみ)"
.It Li \&Xr Ta Yes Ta Yes Ta "マニュアルページの相互参照"
.El
.Ss 一般テキストドメインマクロ
.Bl -column "Name" "Parsed" Callable" -compact
.It Em 名前	Parsed	Callable	説明
.It Li \&%A Ta Yes Ta \&No Ta "参考文献の著者"
.It Li \&%B Ta Yes Ta Yes Ta "参考文献の書籍タイトル"
.It Li \&%\&C Ta \&No Ta \&No Ta "参考文献の出版地 (街)"
.It Li \&%\&D Ta \&No Ta \&No Ta "参考文献の日付"
.It Li \&%J Ta Yes Ta Yes Ta "参考文献の雑誌名"
.It Li \&%N Ta \&No Ta \&No Ta "参考文献の号数"
.It Li \&%\&O Ta \&No Ta \&No Ta "参考文献の補助情報"
.It Li \&%P Ta \&No Ta \&No Ta "参考文献のページ"
.It Li \&%R Ta \&No Ta \&No Ta "参考文献のリポート名"
.It Li \&%T Ta Yes Ta Yes Ta "参考文献の記事タイトル"
.It Li \&%V Ta \&No Ta \&No Ta "参考文献の巻数"
.It Li \&Ac Ta Yes Ta Yes Ta "アングルクォートの閉じ"
.It Li \&Ao Ta Yes Ta Yes Ta "アングルクォートの開き"
.It Li \&Ap Ta Yes Ta Yes Ta "アポストロフィ"
.It Li \&Aq Ta Yes Ta Yes Ta "アングルクォート"
.It Li \&At Ta \&No Ta \&No Ta Tn "AT&T UNIX"
.It Li \&Bc Ta Yes Ta Yes Ta "ブラケットクォートの閉じ"
.It Li \&Bf Ta \&No Ta \&No Ta "フォントモードの開始"
.It Li \&Bo Ta Yes Ta Yes Ta "ブラケットクォートの開き"
.It Li \&Bq Ta Yes Ta Yes Ta "ブラケットクォート"
.It Li \&Bx Ta Yes Ta Yes Ta Bx .
.It Li \&Db Ta \&No Ta \&No Ta "デバッグ (デフォルトは \\*qoff\\*q)"
.It Li \&Dc Ta Yes Ta Yes Ta "ダブルクォートの閉じ"
.It Li \&Do Ta Yes Ta Yes Ta "ダブルクォートの開き"
.It Li \&Dq Ta Yes Ta Yes Ta "ダブルクォート"
.It Li \&Ec Ta Yes Ta Yes Ta "エンクローズ文字列引用の閉じ"
.It Li \&Ef Ta \&No Ta \&No Ta "フォントモードの終了"
.It Li \&Em Ta Yes Ta Yes Ta "強調 (traditional English)."
.It Li \&Eo Ta Yes Ta Yes Ta "エンクローズ文字列引用の開き"
.It Li \&Fx Ta \&No Ta \&No Ta Tn "FreeBSD operating system"
.It Li \&No Ta Yes Ta Yes Ta "通常のテキスト (効果なし)"
.It Li \&Ns Ta Yes Ta Yes Ta "スペース無し"
.It Li \&Pc Ta Yes Ta Yes Ta "括弧クォートの閉じ"
.It Li \&Pf Ta Yes Ta \&No Ta "前置文字"
.It Li \&Po Ta Yes Ta Yes Ta "括弧クォートの開き"
.It Li \&Pq Ta Yes Ta Yes Ta "括弧クォート"
.It Li \&Qc Ta Yes Ta Yes Ta "ダブルストレートクォートの閉じ"
.It Li \&Ql Ta Yes Ta Yes Ta "クォートされたリテラル"
.It Li \&Qo Ta Yes Ta Yes Ta "ダブルストレートクォートの閉じ"
.It Li \&Qq Ta Yes Ta Yes Ta "ダブルストレートクォートの閉じ"
.It Li \&Re Ta \&No Ta \&No Ta "参考文献の終了"
.It Li \&Rs Ta \&No Ta \&No Ta "参考文献の開始"
.It Li \&Rv Ta \&No Ta \&No Ta "返り値 (セクション 2, 3 のみ)"
.It Li \&Sc Ta Yes Ta Yes Ta "シングルクォートの閉じ"
.It Li \&So Ta Yes Ta Yes Ta "シングルクォートの開き"
.It Li \&Sq Ta Yes Ta Yes Ta "シングルクォート"
.It Li \&Sm Ta \&No Ta \&No Ta "スペースモード (デフォルトは \\*qon\\*q)"
.It Li \&Sx Ta Yes Ta Yes Ta "セクションの相互参照"
.It Li \&Sy Ta Yes Ta Yes Ta "シンボリック (traditional English)."
.It Li \&Tn Ta Yes Ta Yes Ta "Trade または型名 (small Caps)."
.It Li \&Ux Ta Yes Ta Yes Ta Ux
.It Li \&Xc Ta Yes Ta Yes Ta "拡張引数リストの閉じ"
.It Li \&Xo Ta Yes Ta Yes Ta "拡張引数リストの開き"
.El
.\" .It Sy \&Hf Ta \&No Ta \&No Ta "Include file with header"
.Pp
.Ql q
で終わる名前のマクロは、引数リストの残りの項目をクォートする。
.Ql o
で終わる名前のマクロは一行以上にわたる入力のクォートを開始し、
これは対応する名前の
.Ql c
でおわる名前のマクロで終了する。
囲みマクロはネストでき、引数は 8 つまで取れる。
.Pp
注意: 拡張引数リストマクロ
.Pf ( Ql \&.Xo ,
.Ql \&.Xc )
および関数の囲みマクロ
.Pf ( Ql \&.Fo ,
.Ql \&.Fc )
は変則である。
拡張リストマクロはマクロの引数が
.Xr troff
の制限である 9 個を越えるときに用いられる。
.Pp
UR マクロ (URI/URL ハイパーテキスト参照の開始), UE マクロ (終了),
UN マクロ (参照用ターゲットの指定) も利用できる。
これらのマクロに関するより詳しい情報は
.Xr man 7
を見よ。
.\" The following does not apply on Linux:
.\".Sh 設定
.\"サイト特有のマクロパッケージの設定に関しては、
.\".Pa /usr/src/share/tmac/README
.\"ファイルを見よ。
.Sh ファイル
.Bl -tag -width "tmac.doc-ditroff" -compact
.It Pa doc.tmac
マニュアルドメインマクロと一般テキストドメインマクロ。
.It Pa tmac/doc-common
共通の構造マクロと定義。
.It Pa tmac/doc-nroff
サイト依存の
.Xr nroff
スタイルファイル。
.It Pa tmac/doc-ditroff
サイト依存の
.Xr troff
スタイルファイル。
.It Pa tmac/doc-syms
特殊定義 (標準マクロなど)。
.El
.Sh 関連項目
.Xr groff_mdoc 7 ,
.Xr mdoc.samples 7 ,
.Xr man 7 ,
.Xr man-pages 7
